# 国税の都道府県別ヒートマップアプリケーション

このアプリは、国税庁の税務統計に基づき、所得税、法人税、消費税の都道府県の課税状況を地図上で可視化するShinyを使用したウェブアプリケーションです。  
自治体ごとの変化を直感的に把握できるのが特徴です。

リンク：[課税状況ヒートマップ](https://yo5uke.shinyapps.io/tax_revenue_heatmap/)

## 🔍 主な機能

- 地図上での課税状況の可視化（都道府県単位）
- 使用した税務統計：2007～2022年度
- 表示可能な指標：
  - 所得税（申告所得税 + 源泉所得税）
  - 申告所得税
  - 源泉所得税
  - 法人税
  - 消費税
- 表示単位：すべて百万円
- 地図上で都道府県をクリックすることでデータを表示

## 🧭 使い方

1.  左側のサイドバーで「税の種類」「表示する年度」を選択します。
2.  地図が自動的に更新され、都道府県ごとのデータが表示されます（反映まで少し時間がかかります）。
3.  地図上で都道府県をクリックすると、選択された年と都道府県に対応したポップアップ情報が表示されます。
4.  画面左下のボタンから、出典やライセンス情報などを確認できます。

## ⚙️ 開発環境

- OS: Windows
- R: 4.4.3
- 主な利用パッケージ：
  - `leaflet`
  - `sf`
  - `dplyr`

## 📝 ライセンス

MITライセンス  
ご自由にご利用・改変いただけますが、適切なクレジット表示をお願いいたします。

## 📊 データ出典

本アプリでは、以下のデータをもとに作成しています。

- 国税庁『税務統計』（2007～2022年）
  - [e-Stat](https://www.e-stat.go.jp/stat-search/files?page=1&toukei=00351010&tstat=000001043366)より
- 国土数値情報ダウンロードサイト
  - 2024年1月1日時点の[行政区域データ](https://nlftp.mlit.go.jp/ksj/gml/datalist/KsjTmplt-N03-2024.html)を使用
  - データ軽量化のため`rmapshaper::ms_simplify()`を用いて簡素化しています。

## 🔗 ソースコード

GitHub リポジトリはこちら：  
[https://github.com/yo5uke/tax_revenue_heatmap](https://github.com/yo5uke/tax_revenue_heatmap)


## 公開日

このドキュメントは令和7年3月24日に公開されました。